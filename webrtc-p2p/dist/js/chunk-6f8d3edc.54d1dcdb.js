(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f8d3edc"],{c3c4:function(e,t,n){},e62a:function(e,t,n){"use strict";var i=n("c3c4"),o=n.n(i);o.a},f334:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%",height:"100%"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:24}},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[n("el-form-item",{attrs:{label:"摄像头"}},[n("el-select",{attrs:{placeholder:"摄像头"},model:{value:e.formInline.videoId,callback:function(t){e.$set(e.formInline,"videoId",t)},expression:"formInline.videoId"}},e._l(e.localDevice.videoIn,function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:e.id}})}),1)],1),n("el-form-item",{attrs:{label:"麦克风"}},[n("el-select",{attrs:{placeholder:"麦克风"},model:{value:e.formInline.audioInId,callback:function(t){e.$set(e.formInline,"audioInId",t)},expression:"formInline.audioInId"}},e._l(e.localDevice.audioIn,function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:e.id}})}),1)],1),n("el-form-item",{attrs:{label:"听筒"}},[n("el-select",{attrs:{placeholder:"听筒"},model:{value:e.formInline.audioOutId,callback:function(t){e.$set(e.formInline,"audioOutId",t)},expression:"formInline.audioOutId"}},e._l(e.localDevice.audioOut,function(e,t){return n("el-option",{key:t,attrs:{label:e.label,value:e.id}})}),1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确定")])],1)],1)],1)],1),n("el-row",[n("video",{attrs:{id:"localdemo01",autoplay:"",controls:"",muted:""},domProps:{muted:!0}})])],1)},o=[],a=(n("96cf"),n("3b8d"));n("d25f"),n("ac6a"),n("f3e2"),n("7f7f");function r(e){console.error("navigator.MediaDevices.getUserMedia error: ",e.message,e.name)}var c=null;function u(){c={audioIn:[],videoIn:[],audioOut:[]};var e={video:!0,audio:!0};navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.getUserMedia(e).then(function(e){e.getTracks().forEach(function(e){console.log(e.getSettings()),e.stop()}),navigator.mediaDevices.enumerateDevices().then(function(e){e.forEach(function(e){var t={id:e.deviceId,kind:e.kind,label:e.label};"audioinput"===e.kind&&0===c.audioIn.filter(function(t){return t.id===e.deviceId}).length&&c.audioIn.push(t),"audiooutput"===e.kind?0===c.audioOut.filter(function(t){return t.id===e.deviceId}).length&&c.audioOut.push(t):"videoinput"===e.kind&&0===c.videoIn.filter(function(t){return t.id===e.deviceId}).length&&c.videoIn.push(t)})}).catch(r)}).then(function(){console.log(c),console.log("audioIn",c.audioIn),console.log("audioOut",c.audioOut),console.log("videoIn",c.videoIn)}).catch(r):console.log("浏览器不支持获取媒体设备")}var d={name:"demo01",data:function(){return{localDevice:{audioIn:[],videoIn:[],audioOut:[]},formInline:{videoId:void 0,audioInId:void 0,audioOutId:void 0}}},created:function(){u(),this.localDevice=c},methods:{onSubmit:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,n,i,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t="localdemo01",n=document.getElementById(t),i=n.srcObject,i&&(i.getAudioTracks().forEach(function(e){i.removeTrack(e)}),i.getVideoTracks().forEach(function(e){i.removeTrack(e)})),e.next=6,this.getTargetDeviceMedia(this.formInline.videoId,this.formInline.audioInId);case 6:o=e.sent,n.srcObject=o,n.muted=!0;case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getLocalUserMedia:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),getTargetDeviceMedia:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,n){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i={audio:{deviceId:n?{exact:n}:void 0},video:{deviceId:t?{exact:t}:void 0,width:1920,height:1080,frameRate:{ideal:10,max:15}}},window.stream&&window.stream.getTracks().forEach(function(e){e.stop()}),e.next=4,this.getLocalUserMedia(i).catch(r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()}},l=d,s=(n("e62a"),n("2877")),f=Object(s["a"])(l,i,o,!1,null,"5448ab31",null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-6f8d3edc.54d1dcdb.js.map